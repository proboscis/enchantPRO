<html> 
	<head>
		<script type="text/javascript" src="enchant.js"></script>
		<script type="text/javascript" src="pro.enchant.js"></script>
		<script type="text/javascript">
		
		function startAR(){
			var mesh = EP_GL.getFactory().createMesh();
			var first = true;
			pro.ar.onDetection = function(json){
				if(first){
                    mesh.setTranslationJSON("[0,0,0.5]");
					EP_GL.getMeshManager().add(mesh);
					first = false;
				}
				mesh.setMatrixJSON(JSON.stringify(json[0]["afTransform"]));
			}
			pro.camera.onPreviewStarted = function(){
				pro.ar.startDetection();
			}
			pro.camera.onPreviewStopped = function(){
				pro.ar.stopDetection();
			}
			document.getElementById("button").enabled = false;
			pro.camera.startPreview();
		}
		
 		</script>
	</head> 
	<body style="background-color:transparent;">
		<input id="button" type="button" value="Start AR" onclick="startAR();" />
	</body>
</html> 
